fileFormatVersion: 2
guid: f7fe07663132f8744ab69562f493d5ae
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst GameManager_1 = require(\"../../../Zepeto
    Multiplay Component/ZepetoScript/Managers/GameManager\");\r\nconst TypeManager_1
    = require(\"../../../Zepeto Multiplay Component/ZepetoScript/Managers/TypeManager\");\r\n//
    import GameManager from ''../Managers/GameManager'';\r\n// import { Anim, SendName
    } from ''../Managers/TypeManager'';\r\n// import SyncIndexManager from ''../Common/SyncIndexManager'';\r\nclass
    MinigameJG extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor()
    {\r\n        super(...arguments);\r\n        this.isSit = false;\r\n        this.remoteStarted
    = false;\r\n    }\r\n    get Id() { return this.chairId; }\r\n    /* GameManager
    */\r\n    RemoteStart(id, sessionId) {\r\n        this.chairId = id;\r\n       
    this.localSessionId = sessionId;\r\n        this.boxCol = this.transform.GetComponent($typeof(UnityEngine_1.BoxCollider));\r\n       
    if (!this.buttonObject)\r\n            this.buttonObject = this.transform.GetChild(2).gameObject;\r\n       
    this.remoteStarted = true;\r\n    }\r\n    /* Button on off */\r\n    ButtonOnOff(onOff)
    {\r\n        this.boxCol.enabled = onOff;\r\n        this.buttonObject.SetActive(onOff);\r\n   
    }\r\n    /* Sit Chair */\r\n    PlayerSitDown(sessionId) {\r\n        if (this.isSit)\r\n           
    return;\r\n        this.isSit = true;\r\n        this.ButtonOnOff(false);\r\n       
    if (!ZEPETO_Character_Controller_1.ZepetoPlayers.instance.HasPlayer(sessionId))\r\n           
    return;\r\n        this.StartCoroutine(this.StartContinuousAnimation(sessionId));\r\n   
    }\r\n    *StartContinuousAnimation(sessionId) {\r\n        /* Player Setting
    */\r\n        const sitPosition = this.transform.GetChild(1);\r\n        const
    player = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.GetPlayer(sessionId).character;\r\n       
    player.transform.parent = this.transform;\r\n        player.Teleport(sitPosition.position,
    sitPosition.rotation);\r\n        /* Local Player Change Animation */\r\n       
    if (sessionId != this.localSessionId)\r\n            return;\r\n        const
    anim = player.ZepetoAnimator;\r\n        while (anim.GetBool(TypeManager_1.Anim.isSit))
    {\r\n            yield null;\r\n        }\r\n        this.SitControl(true);\r\n       
    while (true) {\r\n            if (player.tryJump || player.tryMove) {\r\n               
    GameManager_1.default.instance.PlayerSendSitUp(this.Id);\r\n                break;\r\n           
    }\r\n            yield null;\r\n        }\r\n    }\r\n    /* Recieve ChairSitUp
    */\r\n    PlayerSitUp(sessionId) {\r\n        if (!this.isSit)\r\n           
    return;\r\n        this.isSit = false;\r\n        this.ButtonOnOff(true);\r\n       
    /* Player Setting */\r\n        if (!ZEPETO_Character_Controller_1.ZepetoPlayers.instance.HasPlayer(sessionId))\r\n           
    return;\r\n        const player = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.GetPlayer(sessionId).character;\r\n       
    player.transform.parent = null;\r\n        /* Local Player Change Animation */\r\n       
    if (sessionId != this.localSessionId)\r\n            return;\r\n        this.SitControl(false);\r\n   
    }\r\n    /* Animation Play */\r\n    SitControl(sit) {\r\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character.ZepetoAnimator.SetBool(TypeManager_1.SendName.isSit,
    sit);\r\n    }\r\n}\r\nexports.default = MinigameJG;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWluaWdhbWVKRy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1pbmlnYW1lSkcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBc0Q7QUFDdEQsNkVBQTREO0FBQzVELGlEQUFxRDtBQUNyRCx1R0FBZ0c7QUFDaEcsdUdBQXVHO0FBQ3ZHLHFEQUFxRDtBQUNyRCw0REFBNEQ7QUFDNUQsNkRBQTZEO0FBRTdELE1BQXFCLFVBQVcsU0FBUSxxQ0FBcUI7SUFBN0Q7O1FBT1ksVUFBSyxHQUFRLEtBQUssQ0FBQztRQUVuQixrQkFBYSxHQUFXLEtBQUssQ0FBQztJQXVFMUMsQ0FBQztJQTFFRyxJQUFXLEVBQUUsS0FBYSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBS2hELGlCQUFpQjtJQUNWLFdBQVcsQ0FBQyxFQUFTLEVBQUUsU0FBZ0I7UUFDMUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7UUFFaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksU0FBQyx5QkFBVyxFQUFHLENBQUM7UUFDekQsSUFBRyxDQUFDLElBQUksQ0FBQyxZQUFZO1lBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7UUFDakYsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUVELG1CQUFtQjtJQUNaLFdBQVcsQ0FBQyxLQUFVO1FBQ3pCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUM1QixJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsZUFBZTtJQUNSLGFBQWEsQ0FBQyxTQUFnQjtRQUNqQyxJQUFHLElBQUksQ0FB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","assetPath":"Assets/ZepetoScripts/WonderHall/Minigame/MinigameJG.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"buttonObject","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"MinigameJG","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: dc05ae497ff268c387b2c06530604956
  onlyWriteTrigger: 0
